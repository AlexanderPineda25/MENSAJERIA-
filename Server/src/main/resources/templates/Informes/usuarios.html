<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/layout/main}">

<head>
    <title>Usuarios</title>
</head>

<body>

<section layout:fragment="titulo">
    Lista de Usuarios
</section>

<section layout:fragment="contenido">

    <div class="card shadow-sm">
        <div class="card-body">

            <table class="table table-striped table-hover">
                <thead class="table-dark">
                <tr>
                    <th>ID</th>
                    <th>Usuario</th>
                    <th>Email</th>
                    <th>Activo</th>
                    <th>Conectado</th>
                    <th>Fecha Registro</th>
                    <th>Última Conexión</th>
                </tr>
                </thead>

                <tbody>
                <tr th:each="u : ${usuarios}">
                    <td th:text="${u.id}"></td>
                    <td th:text="${u.username}"></td>
                    <td th:text="${u.email}"></td>

                    <td>
                        <span th:if="${u.activo}" class="badge bg-success">Sí</span>
                        <span th:unless="${u.activo}" class="badge bg-danger">No</span>
                    </td>

                    <td>
                        <span th:if="${u.conectado}" class="badge bg-success">Conectado</span>
                        <span th:unless="${u.conectado}" class="badge bg-secondary">Desconectado</span>
                    </td>

                    <td th:text="${#temporals.format(u.fechaRegistro,'dd/MM/yyyy HH:mm')}"></td>

                    <td th:text="${u.ultimaConexion != null ? #temporals.format(u.ultimaConexion,'dd/MM/yyyy HH:mm') : '—'}"></td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>

</section>

</body>
</html>
